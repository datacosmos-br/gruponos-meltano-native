# GrupoNOS Meltano Native - Environment Configuration Template
# Copy this file to .env and update with your specific values

# ================================
# FLEXT FRAMEWORK CONFIGURATION
# ================================

FLEXT_ENABLE_METRICS=true
FLEXT_ENABLE_TRACING=true
# Environment settings
FLEXT_ENVIRONMENT=development
FLEXT_LOG_LEVEL=INFO

# ================================
# ORACLE WMS SOURCE CONFIGURATION
# ================================

# Oracle WMS REST API Configuration
TAP_ORACLE_WMS_BASE_URL=https://wms-dev.gruponos.com/api/v1
TAP_ORACLE_WMS_COMPANY_CODE=GNOS_DEV
TAP_ORACLE_WMS_FACILITY_CODE=DC_DEV
TAP_ORACLE_WMS_PASSWORD=your_wms_password
TAP_ORACLE_WMS_USERNAME=your_wms_username

TAP_ORACLE_WMS_BATCH_SIZE=1000
TAP_ORACLE_WMS_MAX_RETRIES=3
TAP_ORACLE_WMS_PAGE_SIZE=500
# WMS API Settings
TAP_ORACLE_WMS_TIMEOUT=300

# Data entities to extract (comma-separated)
TAP_ORACLE_WMS_ENTITIES=allocation,order_hdr,order_dtl

# Incremental sync settings
TAP_ORACLE_WMS_ENABLE_INCREMENTAL=true
TAP_ORACLE_WMS_REPLICATION_KEY=mod_ts
TAP_ORACLE_WMS_START_DATE=2024-01-01T00:00:00Z

# ================================
# ORACLE TARGET DATABASE CONFIGURATION
# ================================

FLEXT_TARGET_ORACLE_DEFAULT_TARGET_SCHEMA=WMS_DEV
# Oracle Database Connection
FLEXT_TARGET_ORACLE_HOST=oracle-dev.gruponos.com
FLEXT_TARGET_ORACLE_PASSWORD=your_db_password
FLEXT_TARGET_ORACLE_PORT=1521
FLEXT_TARGET_ORACLE_PROTOCOL=tcp
FLEXT_TARGET_ORACLE_SCHEMA=WMS_DEV
FLEXT_TARGET_ORACLE_SERVICE_NAME=GNOSDEV
FLEXT_TARGET_ORACLE_USERNAME=your_db_username

FLEXT_TARGET_ORACLE_CONNECTION_TIMEOUT=30
FLEXT_TARGET_ORACLE_MAX_CONNECTIONS=10
# Connection pool settings
FLEXT_TARGET_ORACLE_MIN_CONNECTIONS=2
FLEXT_TARGET_ORACLE_SSL_DN_MATCH=false

# ================================
# GRUPONOS PIPELINE CONFIGURATION
# ================================

GRUPONOS_BATCH_SIZE=1000
GRUPONOS_ENABLE_MONITORING=true
# Pipeline settings
GRUPONOS_ENABLE_VALIDATION=true
GRUPONOS_MAX_WORKERS=2
GRUPONOS_VALIDATION_THRESHOLD=0.90

GRUPONOS_ALERT_THRESHOLD=0.85
# Data quality settings
GRUPONOS_DATA_QUALITY_THRESHOLD=0.95
GRUPONOS_ENABLE_ALERTS=true

# ================================
# LOGGING AND MONITORING
# ================================

GRUPONOS_LOG_FILE=/var/log/gruponos/meltano.log
GRUPONOS_LOG_FORMAT=json
# Application logging
GRUPONOS_LOG_LEVEL=INFO

GRUPONOS_HEALTH_CHECK_PORT=8080
# Metrics and monitoring
GRUPONOS_METRICS_ENABLED=true
GRUPONOS_METRICS_PORT=9090

# ================================
# DEVELOPMENT SETTINGS
# ================================

# Development flags (set to false in production)
GRUPONOS_DEBUG=false
GRUPONOS_DEV_MODE=false
GRUPONOS_ENABLE_DEBUG_LOGGING=false

GRUPONOS_MOCK_ORACLE_WMS=false
GRUPONOS_MOCK_TARGET_DB=false
# Testing settings
GRUPONOS_TEST_MODE=false

# ================================
# MELTANO SPECIFIC SETTINGS
# ================================

# Meltano configuration
MELTANO_ENVIRONMENT=dev
MELTANO_PROJECT_ROOT=/app
MELTANO_VENV_PATH=/app/.meltano/run/bin

# Meltano database (if using system database)
MELTANO_DATABASE_URI=sqlite:///meltano.db

# ================================
# NOTES AND INSTRUCTIONS
# ================================

# 1. Copy this file to .env in the project root
# 2. Update all placeholder values with your actual configuration
# 3. Never commit the .env file to version control
# 4. For production, use proper secret management (Kubernetes secrets, etc.)
# 5. Ensure all required values are set before running the application
# 6. Test configuration with: make env-validate

# Required values (must be set):
# - TAP_ORACLE_WMS_BASE_URL
# - TAP_ORACLE_WMS_USERNAME  
# - TAP_ORACLE_WMS_PASSWORD
# - TAP_ORACLE_WMS_COMPANY_CODE
# - TAP_ORACLE_WMS_FACILITY_CODE
# - FLEXT_TARGET_ORACLE_HOST
# - FLEXT_TARGET_ORACLE_SERVICE_NAME
# - FLEXT_TARGET_ORACLE_USERNAME
# - FLEXT_TARGET_ORACLE_PASSWORD
# - FLEXT_TARGET_ORACLE_SCHEMA
