# Gruponos Oracle WMS Meltano Configuration Template
# Based on new ConfigMapper system with externalized specifications

# =============================================================================
# CORE CONNECTION SETTINGS
# =============================================================================
TAP_ORACLE_WMS_BASE_URL=https://gruponos-wms.oracle.com
TAP_ORACLE_WMS_USERNAME=your-username
TAP_ORACLE_WMS_PASSWORD=your-password

# =============================================================================
# ðŸš¨ SCHEMA DISCOVERY: HARD-CODED TO API METADATA ONLY
# Schema discovery is hard-coded in the tap to use ONLY API metadata describe
# No configuration options exist for schema discovery method
# This behavior cannot be changed - it is built into the tap
# =============================================================================

# =============================================================================
# CONFIGURATION PROFILE (NEW!)
# Uses the new profile system for company-specific configurations
# =============================================================================
WMS_PROFILE_NAME=gruponos

# =============================================================================
# API CONFIGURATION (now configurable instead of hardcoded)
# =============================================================================
WMS_API_VERSION=v10
WMS_ENDPOINT_PREFIX=/wms/lgfapi
WMS_PAGE_MODE=sequenced
WMS_REPLICATION_KEY=mod_ts

# =============================================================================
# PERFORMANCE SETTINGS (GrupoNOS project-specific)
# =============================================================================
WMS_PAGE_SIZE=100
WMS_REQUEST_TIMEOUT=120
WMS_MAX_RETRIES=3
WMS_RETRY_BACKOFF_FACTOR=1.5
WMS_CACHE_TTL_SECONDS=3600

# =============================================================================
# BUSINESS LOGIC CONFIGURATION (GrupoNOS specific)
# =============================================================================
WMS_COMPANY_CODE=GNOS
WMS_FACILITY_CODE=*
WMS_COMPANY_TIMEZONE=America/Sao_Paulo
WMS_CURRENCY_CODE=BRL
WMS_FISCAL_YEAR_START_MONTH=1

# =============================================================================
# INCREMENTAL SYNC SETTINGS
# =============================================================================
WMS_INCREMENTAL_OVERLAP_MINUTES=5
WMS_LOOKBACK_MINUTES=5

# =============================================================================
# ENTITY CONFIGURATION (comma-separated list)
# =============================================================================
WMS_ENTITIES=allocation,order_hdr,order_dtl

# Entity-specific primary keys (optional - uses defaults if not specified)
WMS_ENTITY_ALLOCATION_PRIMARY_KEYS=company_code,facility_code,allocation_id
WMS_ENTITY_ORDER_HDR_PRIMARY_KEYS=company_code,facility_code,order_nbr
WMS_ENTITY_ORDER_DTL_PRIMARY_KEYS=company_code,facility_code,order_nbr,order_line_nbr

# =============================================================================
# OAUTH CONFIGURATION (if using OAuth2 instead of basic auth)
# =============================================================================
WMS_AUTH_METHOD=basic
# WMS_OAUTH_SCOPE=https://instance.wms.ocs.oraclecloud.com:443/urn:opc:resource:consumer::all

# =============================================================================
# CUSTOM HEADERS (JSON format)
# =============================================================================
WMS_USER_AGENT=tap-oracle-wms-gruponos/0.2.0
# WMS_CUSTOM_HEADERS_JSON={"X-Custom-Header":"value"}

# =============================================================================
# TARGET DATABASE CONFIGURATION
# =============================================================================
WMS_TARGET_SCHEMA=OIC
WMS_TABLE_PREFIX=WMS_

# =============================================================================
# STATUS MAPPINGS (JSON format - GrupoNOS specific)
# =============================================================================
WMS_ALLOCATION_STATUS_MAPPING_JSON={"ALLOCATED":"Active","RESERVED":"Active","PICKED":"Fulfilled","SHIPPED":"Fulfilled","CANCELLED":"Cancelled"}
WMS_ORDER_STATUS_MAPPING_JSON={"NEW":"Created","CONFIRMED":"Confirmed","IN_PROGRESS":"Processing","COMPLETED":"Completed","CANCELLED":"Cancelled"}

# =============================================================================
# FIELD TYPE PATTERNS FOR ORACLE DDL (JSON format)
# =============================================================================
WMS_FIELD_TYPE_PATTERNS_JSON={"_id$":"NUMBER","_qty$":"NUMBER(15,3)","_flg$":"CHAR(1)","_ts$":"TIMESTAMP","_code$":"VARCHAR2(50)","_desc$":"VARCHAR2(500)"}

# =============================================================================
# MELTANO PERFORMANCE SETTINGS
# =============================================================================
# For full sync jobs
WMS_BATCH_SIZE_ROWS=1000
WMS_MAX_SYNC_DURATION=3600

# For incremental sync jobs (optimized)
WMS_INCREMENTAL_PAGE_SIZE=2000
WMS_INCREMENTAL_REQUEST_TIMEOUT=180
WMS_INCREMENTAL_MAX_SYNC_DURATION=2700

# =============================================================================
# FLEXT TARGET ORACLE CONFIGURATION
# =============================================================================
FLEXT_TARGET_ORACLE_HOST=gruponos-oracle.database.com
FLEXT_TARGET_ORACLE_SERVICE_NAME=PDBGNOS
FLEXT_TARGET_ORACLE_USERNAME=oic_user
FLEXT_TARGET_ORACLE_PASSWORD=your-target-password
FLEXT_TARGET_ORACLE_PROTOCOL=tcp

# =============================================================================
# CACHE SETTINGS
# =============================================================================
WMS_CATALOG_CACHE_TTL=3600
WMS_SCHEMA_CACHE_TTL=7200